(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo-ga.69311753.png"},25:function(e,t,a){e.exports=a(36)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(21),r=a.n(o),i=(a(30),a(31),a(32),a(33),a(15)),l=a(16),s=a(18),u=a(19),d=a(22),m=a.n(d);function p(e){return c.a.createElement("div",{className:"hcGaHeader hcMarginBottom4 bgColorBrand1"},c.a.createElement("div",{className:"hcGaHeaderLogo"},c.a.createElement("img",{src:m.a,alt:"Golden Agents logo"})),c.a.createElement("div",{className:"hcGaHeaderToolName"},e.toolName),c.a.createElement("div",{className:"hcGaHeaderProject"},e.projectName),c.a.createElement("div",{className:"hcGaHeaderHelp"}))}var b=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"hc-ga-icon hc-ga-icon-ds hcRoundedCorners"})}}]),a}(c.a.Component),h=(c.a.Component,a(8)),f=a.n(h),v=a(10),E=a(9),j="Lenticular Lenses",g="https://recon.diginfra.net/",N="https://secure.huygens.knaw.nl/saml2/login";function D(e){var t={entity_type_selections:e.jobData.entity_type_selections,job_description:e.jobData.job_description,job_id:e.jobData.job_id,job_link:e.jobData.job_link,job_title:e.jobData.job_title,lens_specs:e.jobData.lens_specs,linkset_specs:e.jobData.linkset_specs};function a(){return(a=Object(v.a)(f.a.mark((function a(n){var c,o,r,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a.next=3,fetch(g+"/job/update",c);case 3:return o=a.sent,a.next=6,o.json();case 6:"updated"===(r=a.sent).result?(i={type:"SET_JOB",value:t},e.setJob(i),e.switchState("ENTITY")):console.log(r);case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcEntityName",onClick:function(){var n={dataset:{collection_id:"",dataset_id:"",published:null,timbuctoo_graphql:N,timbuctoo_hsid:null},id:-1,label:"New data selection",description:"Description",filter:{conditions:[{property:[]}],type:"AND"},limit:-1,properties:[],random:!1,related:[],related_array:!1};n.id=t.entity_type_selections.length,n.dataset.dataset_id=e.setIndex,n.dataset.collection_id=e.title,t.entity_type_selections.push(n),function(e){a.apply(this,arguments)}(t)}},e.title)}function y(e){var t="";return t=e.fields.key==e.setIndex?"hcAlignVerticalActive hcIsLink":"hcAlignVertical hcIsLink",c.a.createElement("div",{className:t,onClick:function(){return e.parentCallback(e.fields.key)}},c.a.createElement("div",null,e.fields.field1,c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey"},e.fields.field2)))}function _(e){return c.a.createElement("div",{className:"hcLabel"},e.title)}function T(e){function t(e){return a.apply(this,arguments)}function a(){return(a=Object(v.a)(f.a.mark((function e(t){var a,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(g+"/job/update",a);case 3:return c=e.sent,e.next=6,c.json();case 6:"updated"===(o=e.sent).result?n(t):console.log(o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(t){var a={type:"SET_JOB",value:t};e.setJob(a),e.reload()}return c.a.createElement("div",{className:"hcListBasicResult"},c.a.createElement("div",{className:"hcListItemLong",onClick:function(){!function(t){var a={type:"SET_INDEX",value:t};e.setBufferIndex(a),e.parentCallBack("DATASET_DETAIL")}(e.idsList.dsIndex)}},c.a.createElement("strong",null,c.a.createElement(b,null)," ",e.idsList.dsName),c.a.createElement("div",{className:"hcSmallTxt"},e.idsList.dsDataset),c.a.createElement("div",{className:"hcSmallTxt"},e.idsList.dsProvider)),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){alert("No samples available.")}},"Show sample"),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){!function(a){var n=e.jobData,c=JSON.parse(JSON.stringify(n.entity_type_selections))[a];n.entity_type_selections.push(c),t(n)}(e.idsList.dsIndex)}},"Duplicate"),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){!function(a){var n=e.jobData;n.entity_type_selections.splice(a,1),t(n)}(e.idsList.dsIndex)}},"Delete"))}function C(){return c.a.createElement("div",{className:"hcPagination"})}function k(e){return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4"},c.a.createElement("div",{className:"hcRowJustifyTop"},c.a.createElement("div",{className:"hcBasicSideMargin"},c.a.createElement("h3",null,e.pageTitle)),c.a.createElement("div",{className:"hcBasicSideMargin hcAlignRight hcGaTabsLoudness1"},c.a.createElement("a",{href:"",className:e.isDs?"hcSelected":""},"Data Selection"),c.a.createElement("a",{href:"",className:e.isAl?"hcSelected":""},"Alignment"))))}function I(e){return c.a.createElement("div",{className:"hcModal"},c.a.createElement("div",{className:"hcContentContainer"},c.a.createElement("div",{className:"hcModelContentWrap"},c.a.createElement("div",{className:"hcBasicSideMargin hc2columns hcMarginBottom2 hcMarginTop2"},c.a.createElement("h3",null,e.modalName),c.a.createElement("div",{className:"hcTxtRight hcIsLink",onClick:function(){return e.parentCallBack("ENTITY")}},"Close")),e.children)))}function B(e){var t=e.qsJobID,a=Object(n.useState)(""),o=Object(E.a)(a,2),r=o[0],i=o[1];function l(){return(l=Object(v.a)(f.a.mark((function a(){var n,c,o,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=g+"job/"+t,a.prev=1,a.next=4,fetch(n);case 4:return c=a.sent,a.next=7,c.json();case 7:o=a.sent,r={type:"SET_ID",value:o.job_id},e.setValue(r),e.parentCallBack("FETCH"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),i("Job not found! Try again with a correct job ID.");case 16:case"end":return a.stop()}}),a,null,[[1,13]])})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4 hcMarginTop5"},c.a.createElement("div",{className:"hc2columns"},c.a.createElement("div",{className:"hcMarginBottom2 hcBasicSideMargin"},c.a.createElement("h2",null,"New project"),"Start a new project to reconcile one or more datasets.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"button",name:"button",onClick:function(){return e.parentCallBack("NEW")}},"New project"),c.a.createElement("div",{className:"hcLoginArea"},c.a.createElement("h2",null,"Login"),"Login to get access to private datasets.",c.a.createElement("button",{type:"button",name:"loginButton",className:"loginBtn",onClick:function(){!function(){var e=document.createElement("form");e.action=N,e.method="POST",e.innerHTML='<input name="hsurl" value='.concat(window.location,' type="hidden" />'),e.style.display="none",document.body.appendChild(e),e.submit()}()}},"Login"))),c.a.createElement("div",{className:"hcBasicSideMargin hcMarginBottom4"},c.a.createElement("h2",null,"Projects"),c.a.createElement("div",null,"\xa0"),c.a.createElement("div",{className:"hcStickOutBox hcRoundedCorners"},c.a.createElement("p",{className:"hcMarginBottom1"},"Enter your project ID:"),c.a.createElement("input",{type:"text",name:"projectID",onChange:function(e){t=e.currentTarget.value},className:"hcMarginBottom1",defaultValue:e.qsJobID}),c.a.createElement("button",{type:"button",name:"button",onClick:function(){""===t?i("No project ID given!"):function(){l.apply(this,arguments)}()}},"Load project"))),c.a.createElement("div",{className:"errorMsg"},r)))}function S(e){var t={job_title:e.jobData.job_title,job_description:e.jobData.job_description,job_link:e.jobData.job_link},a=!1;""===e.jobID&&(a=!0);var o=Object(n.useState)(a),r=Object(E.a)(o,2),i=r[0];r[1];function l(e){switch(e.currentTarget.name){case"job_title":t.job_title=e.currentTarget.value;break;case"job_link":t.job_link=e.currentTarget.value}}function s(){i?function(){u.apply(this,arguments)}():function(){d.apply(this,arguments)}()}function u(){return(u=Object(v.a)(f.a.mark((function a(){var n,c,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a.next=3,fetch(g+"/job/create",n);case 3:return c=a.sent,a.next=6,c.json();case 6:o=a.sent,console.log(o),"created"===o.result&&e.setValue({type:"SET_ID",value:o.job_id});case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function d(){return(d=Object(v.a)(f.a.mark((function a(){var n,c,o,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={job_id:e.jobData.job_id,job_title:t.job_title,job_description:t.job_description,job_link:t.job_link},null!==e.jobData.entity_type_selections&&(n.entity_type_selections=e.jobData.entity_type_selections),null!==e.jobData.lens_specs&&(n.lens_specs=e.jobData.lens_specs),null!==e.jobData.linkset_specs&&(n.linkset_specs=e.jobData.linkset_specs),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},a.next=7,fetch(g+"job/update",c);case 7:return o=a.sent,console.log(o),a.next=11,o.json();case 11:void 0!==(r=a.sent).result&&"updated"===r.result&&e.setValue({type:"SET_ID",value:r.job_id});case 13:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4 hcMarginTop5"},c.a.createElement("form",{className:"hc2columns"},c.a.createElement("div",{className:"hcMarginBottom2 hcBasicSideMargin hcForm"},c.a.createElement("h3",null,"Project name"),c.a.createElement("input",{type:"text",name:"job_title",defaultValue:t.job_title,onChange:l,className:"hcMarginBottom2"}),c.a.createElement("h3",null,"Project description"),c.a.createElement("textarea",{className:"hcMarginBottom1",name:"job_description",defaultValue:t.job_description,onChange:function(e){t.job_description=e.currentTarget.value}}),c.a.createElement("h3",null,"Project link"),c.a.createElement("input",{type:"text",name:"job_link",defaultValue:t.job_link,onChange:l,className:"hcMarginBottom2"}),c.a.createElement("button",{type:"button",onClick:function(){return s()}},"Save project"),c.a.createElement("button",{type:"button",onClick:function(){return e.parentCallBack("RESEARCH")}},"Back"),i?c.a.createElement("div",null):c.a.createElement("button",{type:"button",onClick:function(){return e.parentCallBack("ENTITY")}},"Next")),c.a.createElement("div",{className:"hcBasicSideMargin hcMarginBottom4"})))}function x(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),o=a[0],r=a[1],i=function(){r(!o)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{pageTitle:e.pageData.pageTitle,isAl:e.pageData.pageNavAl,isDs:e.pageData.pageNavDs}),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom2"},c.a.createElement("div",{className:"hcRowJustify"},c.a.createElement("div",{className:"hcBasicSideMargin"},"The data selection contains the selections of datasets you will work with.",c.a.createElement("br",null),"They can be entities with filters on them."),c.a.createElement("div",{className:"hcBasicSideMargin"},c.a.createElement("button",{type:"button",name:"button",onClick:function(){return e.parentCallBack("DATASETS")}},"New data selection")))),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom5"},c.a.createElement("div",{className:"hcResultsHeader hcMarginBottom1 hcBasicSideMargin"},c.a.createElement("div",null,c.a.createElement(_,{title:"Data selections"}))),c.a.createElement("div",{className:"hcList hcListDisctinctLines hcBasicSideMargin hcMarginBottom2"},e.pageData.dsList.map((function(t){return c.a.createElement(T,{parentCallBack:e.parentCallBack,idsList:t,jobData:e.jobData,setJob:e.setJob,reload:i,setBufferIndex:e.setBufferIndex})}))),c.a.createElement(C,null)))}function O(e){var t=Object(n.useState)("info"),a=Object(E.a)(t,2),o=a[0],r=a[1],i={label:e.pageData.pageTitle,description:e.pageData.description};function l(){var t=e.jobData;t.entity_type_selections[e.dsIndex].label=i.label,t.entity_type_selections[e.dsIndex].description=i.description,function(e){s.apply(this,arguments)}(t)}function s(){return(s=Object(v.a)(f.a.mark((function e(t){var a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(g+"/job/update",a);case 3:return n=e.sent,e.next=6,n.json();case 6:"updated"===(c=e.sent).result?u(t):console.log(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(t){var a={type:"SET_JOB",value:t};e.setJob(a),e.parentCallBack("ENTITY")}return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{pageTitle:e.pageData.pageTitle,isAl:e.pageData.pageNavAl,isDs:e.pageData.pageNavDs}),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom5"},c.a.createElement("div",{className:"hcTabs hcTabsHoriz hcBasicSideMargin"},c.a.createElement("div",{className:"hcTabLabels"},c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-info",onClick:function(){return r("info")}},"Info"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-dataset",onClick:function(){return r("set")}},"Dataset"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-filter",onClick:function(){return r("filter")}},"Filter"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-sample",onClick:function(){return r("sample")}},"Sample"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-relation",onClick:function(){return r("relation")}},"Relation")),c.a.createElement("div",{className:"hcTabAllContent hcStickOutBoxAside hcRoundedCornersTop"},"info"===o?c.a.createElement("div",{className:"hcTabContent hcMarginTop2 hcForm",id:"tab-content-info"},c.a.createElement("h3",null,"Label"),c.a.createElement("input",{type:"text",name:"label",defaultValue:e.pageData.pageTitle,className:"hcMarginBottom2",onChange:function(e){switch(e.currentTarget.name){case"label":i.label=e.currentTarget.value}}}),c.a.createElement("h3",null,"Description"),c.a.createElement("textarea",{name:"description",rows:4,defaultValue:e.pageData.description,className:"hcMarginBottom1",onChange:function(e){i.description=e.currentTarget.value}}),c.a.createElement("br",null),c.a.createElement("button",{type:"button",name:"button",onClick:function(){return l()}},"Save project"),c.a.createElement("button",{type:"button",name:"back",onClick:function(){e.parentCallBack("ENTITY")}},"Back")):c.a.createElement("div",null),"set"===o?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-dataset"},c.a.createElement("h3",null,"Dataset and entity"),c.a.createElement("div",null,c.a.createElement("div",{className:"hc2columns hcMarginBottom2"},c.a.createElement("div",null,c.a.createElement("div",{className:"hcLabel"},"dataset"),e.pageData.dataset),c.a.createElement("div",null,c.a.createElement("div",{className:"hcLabel"},"entity"),e.pageData.collection)),c.a.createElement("button",{type:"button",name:"button"},"Select data"))):c.a.createElement("div",null),"filter"===o?c.a.createElement("div",{className:"hcTabContent hcMarginTop2 hcForm",id:"tab-content-filter"},c.a.createElement("h3",null,"Filter")):c.a.createElement("div",null),"sample"===o?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-sample"},c.a.createElement("h3",null,"Sample"),c.a.createElement("div",{className:"hc2columns"},c.a.createElement("div",null,"Only use a sample of this amount of records (-1 is no limit)"),c.a.createElement("div",null,c.a.createElement("input",{type:"number",value:"-1"})))):c.a.createElement("div",null),"relation"===o?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-relation"},c.a.createElement("h3",null,"Relation")):c.a.createElement("div",null)))))}function w(e){var t="";return null!==e.qsJobID&&(t=e.qsJobID),c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:"Select project"}),c.a.createElement(B,{pageData:{pageTitle:"Home",projectList:[]},parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,qsJobID:t}))}function L(e){var t={pageTitle:e.jobData.entity_type_selections[e.dsIndex].label,description:e.jobData.entity_type_selections[e.dsIndex].description,dataset:e.jobData.entity_type_selections[e.dsIndex].dataset.dataset_id,collection:e.jobData.entity_type_selections[e.dsIndex].dataset.collection_id,pageNavDs:!0,pageNavAl:!1,filters:[{filterNr:1,filterSetting:"OR",filterRows:[{entities:["pnv_hasName","pnv_PersonName","ns1_ontology_isInRecordList","ns1_ontology_Boedelinventaris","rdf_type"]}],condition:"Has value"},{filterNr:2,filterSetting:"OR",filterRows:[{entities:["pnv_hasName","pnv_PersonName","ns1_ontology_isInRecordList","ns1_ontology_Boedelinventaris","rdf_type"]}],condition:"Has value"}]};return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),c.a.createElement(O,{pageData:t,parentCallBack:e.parentCallBack,jobData:e.jobData,setJob:e.setJob,dsIndex:e.dsIndex}))}function J(e){return"function"===typeof e}var M=a(38),A=a(5),R=Object(M.a)({id:"lenticularLense",initial:"research",context:{jobData:{created_at:"",entity_type_selections:[],job_description:"",job_id:"",job_link:"",job_title:"",lens_specs:[],linkset_specs:[],updated_at:""},jobID:"",bufferedIndex:0},on:{research:"research",entity:"entity",create:"create",fetch:"fetch",datasets:"datasets",dataset_detail:"dataset_detail"},states:{research:{on:{NEW:"create",FETCH:"fetch",SET_ID:{actions:Object(A.b)({jobID:function(e,t){return t.value}})},SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})}}},create:{on:{ENTITY:"entity",RESEARCH:"research",SET_ID:{actions:Object(A.b)({jobID:function(e,t){return t.value}}),target:"fetch"},SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})}}},fetch:{on:{ENTITY:"entity",FETCH:"fetch",RESEARCH:"research",SET_ID:{actions:Object(A.b)({jobID:function(e,t){return t.value}}),target:"fetch"},SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})}}},entity:{on:{DATASETS:"datasets",DATASET_DETAIL:"dataset_detail",SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})},SET_INDEX:{actions:Object(A.b)({bufferedIndex:function(e,t){return t.value}})}}},datasets:{on:{ENTITY:"entity",SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})},SET_INDEX:{actions:Object(A.b)({bufferedIndex:function(e,t){return t.value}})}}},dataset_detail:{on:{ENTITY:"entity",SET_JOB:{actions:Object(A.b)({jobData:function(e,t){return t.value}})}}}}});function V(e){return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:"New project"}),c.a.createElement(S,{parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,jobData:e.jobData}))}function P(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(e.jobData),l=Object(E.a)(i,2),s=l[0],u=l[1];function d(){return(d=Object(v.a)(f.a.mark((function t(){var a,n,c,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=g+"job/"+e.jobID,t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,o={type:"SET_JOB",value:c},e.setJob(o),u(c),r(!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[o]),c.a.createElement("div",{className:"App"},o?c.a.createElement(p,{toolName:j,projectName:"Loading..."}):c.a.createElement("div",null,c.a.createElement(p,{toolName:j,projectName:s.job_title}),c.a.createElement(S,{parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,jobData:e.jobData})))}var H=a(37);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e){var t={pageTitle:"Data selection - list",pageNavDs:!0,pageNavAl:!1,introductionText:"The data selection contains the selections of datasets you will work with. They can be entities with filters on them.",dsList:function(e){var t=[];return e.entity_type_selections.map((function(e,a){var n={dsName:e.label,dsDataset:e.description,dsProvider:"",dsIndex:a};t.push(n)})),t}(e.jobData)};return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),c.a.createElement(x,{parentCallBack:e.parentCallBack,pageData:t,jobData:e.jobData,setJob:e.setJob,setBufferIndex:e.setBufferIndex}))}function F(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:" hc2columns"},c.a.createElement("div",{className:"hcList hcMarginBottom4 hcBasicSideMargin hcMaxhalf"},e.pageData.datasetList.map((function(t){return c.a.createElement(y,{fields:t,setIndex:e.pageData.setIndex,parentCallback:e.parentCallback})}))),c.a.createElement("div",{className:"hcBasicSideMargin hcClrBg_Grey05 hcleftMark"},c.a.createElement("div",{className:"hcMarginTop2"},c.a.createElement("strong",null,e.pageData.detailInfoName)),c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey"},e.pageData.detailInfoProvider),c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey hcMarginBottom1"},e.pageData.detailInfodescription),c.a.createElement("div",{className:"hcLabel"},"Entity"),c.a.createElement("div",{className:"hcList "},e.pageData.detailInfoEntities.map((function(t){return c.a.createElement(D,{title:t.field,setIndex:e.pageData.setIndex,jobData:e.jobData,switchState:e.switchState,setJob:e.setJob})}))))))}function Y(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(!0),l=Object(E.a)(i,2),s=l[0],u=l[1],d=g+"datasets?endpoint=https://repository.goldenagents.org/v5/graphql",m={};null!==e.hsid&&(m={headers:{authorization:e.hsid}});var b={pageTitle:"Modal select dataset",pageNavDs:!0,pageNavAl:!1,datasetList:[],detailInfoEntities:[],detailInfoName:"",detailInfoProvider:"",detailInfodescription:"",setIndex:""},h=Object(n.useState)(b),N=Object(E.a)(h,2),D=N[0],y=N[1],_=Object(n.useState)(),T=Object(E.a)(_,2),C=T[0],k=T[1];function B(){return(B=Object(v.a)(f.a.mark((function e(){var t,a,n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d,m);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=Object.keys(a),c=n[0].toString(),b.setIndex=c,b.datasetList=S(a),b.detailInfoEntities=x(a,c),b.detailInfoName=a[c].title,y(b),k(a),r(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=[];return Object.keys(e).map((function(a){var n={field1:e[a].title,field2:e[a].description,key:a};t.push(n)})),t}function x(e,t){var a=[];Object.keys(e);return Object.keys(e[t].collections).map((function(e){var t={field:e};a.push(t)})),a}return Object(n.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),o?c.a.createElement("div",{className:"loadClass"},"Loading..."):c.a.createElement(I,{parentCallBack:e.parentCallBack,modalName:"Select dataset"},c.a.createElement(F,{pageData:D,parentCallback:function(e){var t=D;t.detailInfoEntities=x(C,e),t.detailInfoName=C[e].title,t.setIndex=e,y(t),u(!s)},jobData:e.jobData,switchState:e.parentCallBack,setJob:e.setJob})))}var q=Object(H.a)(R);q.start();var W,U,X=function(e){q.send(e)},z=function(e){q.send(e)},$=function(e){q.send(e)},K=function(e){q.send(e)},Q=new URLSearchParams(window.location.search),Z=Q.get("job_id"),ee=Q.get("hsid");r.a.render(c.a.createElement("div",null,(W=q,U={research:function(e){var t=e.state;return c.a.createElement(w,{parentCallBack:X,setValue:z,setJob:$,jobID:t.context.jobID,jobData:t.context.jobData,qsJobID:Z})},create:function(e){var t=e.state;return c.a.createElement(V,{parentCallBack:X,setValue:z,setJob:$,jobID:t.context.jobID,jobData:t.context.jobData})},fetch:function(e){var t=e.state;return c.a.createElement(P,{parentCallBack:X,setValue:z,setJob:$,jobID:t.context.jobID,jobData:t.context.jobData})},entity:function(e){var t=e.state;return c.a.createElement(G,{parentCallBack:X,jobData:t.context.jobData,setJob:$,setBufferIndex:K})},datasets:function(e){var t=e.state;return c.a.createElement(Y,{parentCallBack:X,jobData:t.context.jobData,setJob:$,hsid:ee})},dataset_detail:function(e){var t=e.state;return c.a.createElement(L,{parentCallBack:X,jobData:t.context.jobData,setJob:$,dsIndex:t.context.bufferedIndex})},"":function(e){var t=e.state;return c.a.createElement("div",null,"The GUI for ",t.value," is not yet defined")}},c.a.createElement((function(){var e=Object(n.useState)(W.state),t=Object(E.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){var e=function(e){return o(e)};return W.onTransition(e),function(){W.off(e)}}),[W,U]);var r=function e(t,a){if("string"===typeof t){var n=a[t];return void 0===n?void 0===a[t]?a[""]:a[t]:J(n)?n:(console.error("Non-terminal state config for an atomic state!"),function e(t){for(var a in t){var n=t[a];return J(n)?n:e(n)}}(n))}var c,o={},r=0;for(var i in t){var l=void 0===a[i]?a[""]:a[i];if(J(l))r++,o[i]=l,c=l;else if("object"===typeof l){var s=e(t[i],l);void 0!==s&&(r++,o[i]=s,c=s)}}if(1===r)return c;var u=a[":merge"];return function(e){return u({state:e.state,input:o})}}(a.value,U);if(void 0!==r){var i={state:a};return c.a.createElement(r,i)}return c.a.createElement("div",null,"No GUI defined for ",JSON.stringify(a.value))})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.9cf45239.chunk.js.map