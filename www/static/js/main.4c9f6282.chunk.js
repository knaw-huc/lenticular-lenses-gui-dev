(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo-ga.69311753.png"},25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){e.exports=a.p+"static/media/ga-ll-tempNetwork.a5f7fb5b.svg"},37:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),i=a.n(r),s=(a(30),a(31),a(32),a(33),a(15)),l=a(16),o=a(18),u=a(19),d=a(22),m=a.n(d);function p(e){return c.a.createElement("div",{className:"hcGaHeader hcMarginBottom4 bgColorBrand1"},c.a.createElement("div",{className:"hcGaHeaderLogo"},c.a.createElement("img",{src:m.a,alt:"Golden Agents logo"})),c.a.createElement("div",{className:"hcGaHeaderToolName"},e.toolName),c.a.createElement("div",{className:"hcGaHeaderProject"},e.projectName),c.a.createElement("div",{className:"hcGaHeaderHelp"}))}var b=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"hc-ga-icon hc-ga-icon-ds hcRoundedCorners"})}}]),a}(c.a.Component),h=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"hc-ga-icon hc-ga-icon-al hcRoundedCorners"}," ")}}]),a}(c.a.Component),f=a(7),v=a.n(f),E=a(10),g=a(9),j="Lenticular Lenses",N="https://lensgui.sd.di.huc.knaw.nl",T="https://recon.diginfra.net",y="https://secure.huygens.knaw.nl/saml2/login";function _(e){var t={entity_type_selections:e.jobData.entity_type_selections,job_description:e.jobData.job_description,job_id:e.jobData.job_id,job_link:e.jobData.job_link,job_title:e.jobData.job_title,lens_specs:e.jobData.lens_specs,linkset_specs:e.jobData.linkset_specs};function a(){return(a=Object(E.a)(v.a.mark((function a(n){var c,r,i,s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a.next=3,fetch(T+"/job/update",c);case 3:return r=a.sent,a.next=6,r.json();case 6:"updated"===(i=a.sent).result?(s={type:"SET_JOB",value:t},e.setJob(s),e.switchState("DATASET_DETAIL")):console.log(i);case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcEntityName",onClick:function(){t.entity_type_selections[e.dsIndex].dataset.dataset_id=e.setIndex,t.entity_type_selections[e.dsIndex].dataset.collection_id=e.title,function(e){a.apply(this,arguments)}(t)}},e.title)}function D(e){var t="";return t=e.fields.key==e.setIndex?"hcAlignVerticalActive hcIsLink":"hcAlignVertical hcIsLink",c.a.createElement("div",{className:t,onClick:function(){return e.parentCallback(e.fields.key)}},c.a.createElement("div",null,e.fields.field1,c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey"},e.fields.field2)))}function C(e){return c.a.createElement("div",{className:"hcLabel"},e.title)}function k(e){function t(e){return a.apply(this,arguments)}function a(){return(a=Object(E.a)(v.a.mark((function e(t){var a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(T+"/job/update",a);case 3:return c=e.sent,e.next=6,c.json();case 6:"updated"===(r=e.sent).result?n(t):console.log(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(t){var a={type:"SET_JOB",value:t};e.setJob(a),e.reload()}return c.a.createElement("div",{className:"hcListBasicResult"},c.a.createElement("div",{className:"hcListItemLong",onClick:function(){!function(t){var a={type:"SET_INDEX",value:t};e.setBufferIndex(a),e.parentCallBack("DATASET_DETAIL")}(e.idsList.dsIndex)}},c.a.createElement("strong",null,c.a.createElement(b,null)," ",e.idsList.dsName),c.a.createElement("div",{className:"hcSmallTxt"},e.idsList.dsDataset),c.a.createElement("div",{className:"hcSmallTxt"},e.idsList.dsProvider)),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){alert("No samples available.")}},"Show sample"),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){!function(a){var n=e.jobData,c=JSON.parse(JSON.stringify(n.entity_type_selections))[a];n.entity_type_selections.push(c),t(n)}(e.idsList.dsIndex)}},"Duplicate"),c.a.createElement("div",{className:"hcListActionItem",onClick:function(){!function(a){var n=e.jobData;n.entity_type_selections.splice(a,1),t(n)}(e.idsList.dsIndex)}},"Delete"))}function S(e){return c.a.createElement("div",{className:"hcListBasicResult"},c.a.createElement("div",{className:"hcListItemLong"},c.a.createElement("strong",null," ",c.a.createElement(h,null),e.prName)),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prSource),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prSource),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prTarget),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prLinks),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prCusters),c.a.createElement("div",{className:"hcSmallTxt hcTxtRight"},e.prStatus),c.a.createElement("div",null,c.a.createElement("a",{href:""},"Duplicate")))}function x(){return c.a.createElement("div",{className:"hcPagination"})}function I(e){return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4"},c.a.createElement("div",{className:"hcRowJustifyTop"},c.a.createElement("div",{className:"hcBasicSideMargin"},c.a.createElement("h3",null,e.pageTitle)),c.a.createElement("div",{className:"hcBasicSideMargin hcAlignRight hcGaTabsLoudness1"},c.a.createElement("div",{className:"hcTopMenu",onClick:function(){e.goTo("FETCH")}},"Edit research"),c.a.createElement("div",{className:e.isDs?"hcSelected":"hcTopMenu",onClick:function(){return e.goTo("ENTITY")}},"Data Selection"),c.a.createElement("div",{className:e.isAl?"hcSelected":"hcTopMenu",onClick:function(){return e.goTo("ALIGNMENTS")}},"Alignment"))))}function B(e){return c.a.createElement("div",{className:"hcModal"},c.a.createElement("div",{className:"hcContentContainer"},c.a.createElement("div",{className:"hcModelContentWrap"},c.a.createElement("div",{className:"hcBasicSideMargin hc2columns hcMarginBottom2 hcMarginTop2"},c.a.createElement("h3",null,e.modalName),c.a.createElement("div",{className:"hcTxtRight hcIsLink",onClick:function(){return e.parentCallBack("ENTITY")}},"Close")),e.children)))}function L(e){var t=e.qsJobID,a=Object(n.useState)(""),r=Object(g.a)(a,2),i=r[0],s=r[1];function l(){return(l=Object(E.a)(v.a.mark((function a(){var n,c,r,i,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=T+"/job/"+t,a.prev=1,a.next=4,fetch(n);case 4:return c=a.sent,a.next=7,c.json();case 7:r=a.sent,i={type:"SET_ID",value:r.job_id},e.setValue(i),l={type:"SET_JOB",value:r},e.setJob(l),e.parentCallBack("ENTITY"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),s("Job not found! Try again with a correct job ID.");case 18:case"end":return a.stop()}}),a,null,[[1,15]])})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4 hcMarginTop5"},c.a.createElement("div",{className:"hc2columns"},c.a.createElement("div",{className:"hcMarginBottom2 hcBasicSideMargin"},c.a.createElement("h2",null,"New research"),"Start a new research to reconcile one or more datasets.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"button",name:"button",onClick:function(){return e.parentCallBack("NEW")}},"New research"),c.a.createElement("div",{className:"hcLoginArea"},c.a.createElement("h2",null,"Login"),"Login to get access to private datasets.",c.a.createElement("button",{type:"button",name:"loginButton",className:"loginBtn",onClick:function(){!function(){var e=document.createElement("form");e.action=y,e.method="POST",e.innerHTML='<input name="hsurl" value='.concat(window.location,' type="hidden" />'),e.style.display="none",document.body.appendChild(e),e.submit()}()}},"Login"))),c.a.createElement("div",{className:"hcBasicSideMargin hcMarginBottom4"},c.a.createElement("h2",null,"Existing research"),c.a.createElement("div",null,"\xa0"),c.a.createElement("div",{className:"hcStickOutBox hcRoundedCorners"},c.a.createElement("p",{className:"hcMarginBottom1"},"Enter your research ID:"),c.a.createElement("input",{type:"text",name:"projectID",onChange:function(e){t=e.currentTarget.value},className:"hcMarginBottom1",defaultValue:e.qsJobID}),c.a.createElement("button",{type:"button",name:"button",onClick:function(){""===t?s("No research ID given!"):function(){l.apply(this,arguments)}()}},"Load research"))),c.a.createElement("div",{className:"errorMsg"},i)))}function O(e){var t={job_title:e.jobData.job_title,job_description:e.jobData.job_description,job_link:e.jobData.job_link},a=!1;""===e.jobID&&(a=!0);var r=Object(n.useState)(a),i=Object(g.a)(r,2),s=i[0];i[1];function l(e){switch(e.currentTarget.name){case"job_title":t.job_title=e.currentTarget.value;break;case"job_link":t.job_link=e.currentTarget.value}}function o(){s?function(){u.apply(this,arguments)}():function(){d.apply(this,arguments)}()}function u(){return(u=Object(E.a)(v.a.mark((function a(){var n,c,r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a.next=3,fetch(T+"/job/create",n);case 3:return c=a.sent,a.next=6,c.json();case 6:r=a.sent,console.log(r),"created"===r.result&&e.setValue({type:"SET_ID",value:r.job_id}),window.location.href=N+"?job_id="+r.job_id;case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function d(){return(d=Object(E.a)(v.a.mark((function a(){var n,c,r,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={job_id:e.jobData.job_id,job_title:t.job_title,job_description:t.job_description,job_link:t.job_link},null!==e.jobData.entity_type_selections&&(n.entity_type_selections=e.jobData.entity_type_selections),null!==e.jobData.lens_specs&&(n.lens_specs=e.jobData.lens_specs),null!==e.jobData.linkset_specs&&(n.linkset_specs=e.jobData.linkset_specs),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},a.next=7,fetch(T+"/job/update",c);case 7:return r=a.sent,console.log(r),a.next=11,r.json();case 11:void 0!==(i=a.sent).result&&"updated"===i.result&&e.setValue({type:"SET_ID",value:i.job_id});case 13:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return c.a.createElement("div",{className:"hcContentContainer hcMarginBottom4 hcMarginTop5"},c.a.createElement("form",{className:"hc2columns"},c.a.createElement("div",{className:"hcMarginBottom2 hcBasicSideMargin hcForm"},c.a.createElement("h3",null,"Research name"),c.a.createElement("input",{type:"text",name:"job_title",defaultValue:t.job_title,onChange:l,className:"hcMarginBottom2"}),c.a.createElement("h3",null,"Research description"),c.a.createElement("textarea",{className:"hcMarginBottom1",name:"job_description",defaultValue:t.job_description,onChange:function(e){t.job_description=e.currentTarget.value}}),c.a.createElement("h3",null,"Research link"),c.a.createElement("input",{type:"text",name:"job_link",defaultValue:t.job_link,onChange:l,className:"hcMarginBottom2"}),c.a.createElement("button",{type:"button",onClick:function(){return e.parentCallBack("RESEARCH")}},"Back"),c.a.createElement("button",{type:"button",onClick:function(){return o()}},"Save research"),s?c.a.createElement("div",null):c.a.createElement("button",{type:"button",onClick:function(){return e.parentCallBack("ENTITY")}},"Next")),c.a.createElement("div",{className:"hcBasicSideMargin hcMarginBottom4"})))}function M(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),r=a[0],i=a[1],s=function(){i(!r)},l={entity_type_selections:e.jobData.entity_type_selections,job_description:e.jobData.job_description,job_id:e.jobData.job_id,job_link:e.jobData.job_link,job_title:e.jobData.job_title,lens_specs:e.jobData.lens_specs,linkset_specs:e.jobData.linkset_specs};function o(){return(o=Object(E.a)(v.a.mark((function t(a){var n,c,r,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},t.next=3,fetch(T+"/job/update",n);case 3:return c=t.sent,t.next=6,c.json();case 6:"updated"===(r=t.sent).result?(i={type:"SET_JOB",value:l},e.setJob(i),l.entity_type_selections.length-1,s={type:"SET_INDEX",value:0},e.setBufferIndex(s),e.parentCallBack("DATASET_DETAIL")):console.log(r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){var e={dataset:{collection_id:"",dataset_id:"",published:!1,timbuctoo_graphql:y,timbuctoo_hsid:"null"},id:-1,label:"",description:"",filter:{conditions:[{property:[]}],type:"AND"},limit:-1,properties:[],random:!1,related:[],related_array:!1};null==l.entity_type_selections&&(l.entity_type_selections=[]),null==l.lens_specs&&(l.lens_specs=[]),null==l.linkset_specs&&(l.linkset_specs=[]),e.id=l.entity_type_selections.length,l.entity_type_selections.unshift(e),function(e){o.apply(this,arguments)}(l)}return c.a.createElement(c.a.Fragment,null,c.a.createElement(I,{pageTitle:e.pageData.pageTitle,isAl:e.pageData.pageNavAl,isDs:e.pageData.pageNavDs,goTo:e.parentCallBack}),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom2"},c.a.createElement("div",{className:"hcRowJustify"},c.a.createElement("div",{className:"hcBasicSideMargin"},"The data selection contains the selections of datasets you will work with.",c.a.createElement("br",null),"They can be entities with filters on them."),c.a.createElement("div",{className:"hcBasicSideMargin"},c.a.createElement("button",{type:"button",name:"button",onClick:function(){return u()}},"New data selection")))),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom5"},c.a.createElement("div",{className:"hcResultsHeader hcMarginBottom1 hcBasicSideMargin"},c.a.createElement("div",null,c.a.createElement(C,{title:"Data selections"}))),c.a.createElement("div",{className:"hcList hcListDisctinctLines hcBasicSideMargin hcMarginBottom2"},e.pageData.dsList.map((function(t){return c.a.createElement(k,{parentCallBack:e.parentCallBack,idsList:t,jobData:e.jobData,setJob:e.setJob,reload:s,setBufferIndex:e.setBufferIndex})}))),c.a.createElement(x,null)))}function w(e){var t=Object(n.useState)("info"),a=Object(g.a)(t,2),r=a[0],i=a[1],s={label:e.pageData.pageTitle,description:e.pageData.description};function l(){var t=e.jobData;t.entity_type_selections[e.dsIndex].label=s.label,t.entity_type_selections[e.dsIndex].description=s.description,function(e){o.apply(this,arguments)}(t)}function o(){return(o=Object(E.a)(v.a.mark((function e(t){var a,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(T+"/job/update",a);case 3:return n=e.sent,e.next=6,n.json();case 6:"updated"===(c=e.sent).result?u(t):console.log(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(t){var a={type:"SET_JOB",value:t};e.setJob(a),e.parentCallBack("ENTITY")}return c.a.createElement(c.a.Fragment,null,c.a.createElement(I,{pageTitle:e.pageData.pageTitle,isAl:e.pageData.pageNavAl,isDs:e.pageData.pageNavDs,goTo:e.parentCallBack}),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom5"},c.a.createElement("div",{className:"hcTabs hcTabsHoriz hcBasicSideMargin"},c.a.createElement("div",{className:"hcTabLabels"},c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-info",onClick:function(){return i("info")}},"Info"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-dataset",onClick:function(){return i("set")}},"Dataset"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-filter",onClick:function(){return i("filter")}},"Filter"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-sample",onClick:function(){return i("sample")}},"Sample"),c.a.createElement("div",{className:"hcTabLabel hcRoundedCornersTop",id:"tab-list-relation",onClick:function(){return i("relation")}},"Relation")),c.a.createElement("div",{className:"hcTabAllContent hcStickOutBoxAside hcRoundedCornersTop"},"info"===r?c.a.createElement("div",{className:"hcTabContent hcMarginTop2 hcForm",id:"tab-content-info"},c.a.createElement("h3",null,"Label"),c.a.createElement("input",{type:"text",name:"label",defaultValue:e.pageData.pageTitle,placeholder:"Type name of your selection",className:"hcMarginBottom2",onChange:function(e){switch(e.currentTarget.name){case"label":s.label=e.currentTarget.value}}}),c.a.createElement("h3",null,"Description"),c.a.createElement("textarea",{name:"description",rows:4,defaultValue:e.pageData.description,placeholder:"Add your description",className:"hcMarginBottom1",onChange:function(e){s.description=e.currentTarget.value}}),c.a.createElement("br",null),c.a.createElement("button",{type:"button",name:"button",onClick:function(){return l()}},"Save research"),c.a.createElement("button",{type:"button",name:"back",onClick:function(){e.parentCallBack("ENTITY")}},"Back")):c.a.createElement("div",null),"set"===r?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-dataset"},c.a.createElement("h3",null,"Dataset and entity"),c.a.createElement("div",null,c.a.createElement("div",{className:"hc2columns hcMarginBottom2"},c.a.createElement("div",null,c.a.createElement("div",{className:"hcLabel"},"dataset"),e.pageData.dataset),c.a.createElement("div",null,c.a.createElement("div",{className:"hcLabel"},"entity"),e.pageData.collection)),c.a.createElement("button",{type:"button",name:"button",onClick:function(){e.parentCallBack("DATASETS")}},"Select data"))):c.a.createElement("div",null),"filter"===r?c.a.createElement("div",{className:"hcTabContent hcMarginTop2 hcForm",id:"tab-content-filter"},c.a.createElement("h3",null,"Filter")):c.a.createElement("div",null),"sample"===r?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-sample"},c.a.createElement("h3",null,"Sample"),c.a.createElement("div",{className:"hc2columns"},c.a.createElement("div",null,"Only use a sample of this amount of records (-1 is no limit)"),c.a.createElement("div",null,c.a.createElement("input",{type:"number",value:"-1"})))):c.a.createElement("div",null),"relation"===r?c.a.createElement("div",{className:"hcTabContent hcMarginTop2",id:"tab-content-relation"},c.a.createElement("h3",null,"Relation")):c.a.createElement("div",null)))))}function A(e){var t="";return null!==e.qsJobID&&(t=e.qsJobID),c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:"Select research"}),c.a.createElement(L,{pageData:{pageTitle:"Home",projectList:[]},parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,qsJobID:t}))}function J(e){var t={pageTitle:e.jobData.entity_type_selections[e.dsIndex].label,description:e.jobData.entity_type_selections[e.dsIndex].description,dataset:e.jobData.entity_type_selections[e.dsIndex].dataset.dataset_id,collection:e.jobData.entity_type_selections[e.dsIndex].dataset.collection_id,pageNavDs:!0,pageNavAl:!1,filters:[{filterNr:1,filterSetting:"OR",filterRows:[{entities:["pnv_hasName","pnv_PersonName","ns1_ontology_isInRecordList","ns1_ontology_Boedelinventaris","rdf_type"]}],condition:"Has value"},{filterNr:2,filterSetting:"OR",filterRows:[{entities:["pnv_hasName","pnv_PersonName","ns1_ontology_isInRecordList","ns1_ontology_Boedelinventaris","rdf_type"]}],condition:"Has value"}]};return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),c.a.createElement(w,{pageData:t,parentCallBack:e.parentCallBack,jobData:e.jobData,setJob:e.setJob,dsIndex:e.dsIndex}))}function R(e){return"function"===typeof e}var G=a(39),H=a(5),V=Object(G.a)({id:"lenticularLens",initial:"research",context:{jobData:{created_at:"",entity_type_selections:[],job_description:"",job_id:"",job_link:"",job_title:"",lens_specs:[],linkset_specs:[],updated_at:""},jobID:"",bufferedIndex:0},on:{research:"research",entity:"entity",create:"create",fetch:"fetch",datasets:"datasets",dataset_detail:"dataset_detail",alignments:"alignments"},states:{idle:{},research:{on:{NEW:"create",ENTITY:"entity",SET_ID:{actions:Object(H.b)({jobID:function(e,t){return t.value}})},SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})}}},create:{on:{ENTITY:"entity",RESEARCH:"research",SET_ID:{actions:Object(H.b)({jobID:function(e,t){return t.value}}),target:"fetch"},SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})}}},fetch:{on:{ENTITY:"entity",FETCH:"fetch",RESEARCH:"research",SET_ID:{actions:Object(H.b)({jobID:function(e,t){return t.value}}),target:"fetch"},SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})}}},entity:{on:{DATASETS:"datasets",DATASET_DETAIL:"dataset_detail",ALIGNMENTS:"alignments",FETCH:"fetch",SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})},SET_INDEX:{actions:Object(H.b)({bufferedIndex:function(e,t){return t.value}})}}},datasets:{on:{DATASET_DETAIL:"dataset_detail",SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})},SET_INDEX:{actions:Object(H.b)({bufferedIndex:function(e,t){return t.value}})}}},dataset_detail:{on:{ENTITY:"entity",ALIGNMENTS:"alignments",DATASETS:"datasets",FETCH:"fetch",SET_JOB:{actions:Object(H.b)({jobData:function(e,t){return t.value}})}}},alignments:{on:{ENTITY:"entity",FETCH:"fetch"}}}});function F(e){return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:"New research"}),c.a.createElement(O,{parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,jobData:e.jobData}))}function P(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(e.jobData),l=Object(g.a)(s,2),o=l[0],u=l[1];function d(){return(d=Object(E.a)(v.a.mark((function t(){var a,n,c,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=T+"/job/"+e.jobID,t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,r={type:"SET_JOB",value:c},e.setJob(r),u(c),i(!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[r]),c.a.createElement("div",{className:"App"},r?c.a.createElement(p,{toolName:j,projectName:"Loading..."}):c.a.createElement("div",null,c.a.createElement(p,{toolName:j,projectName:o.job_title}),c.a.createElement(O,{parentCallBack:e.parentCallBack,setValue:e.setValue,setJob:e.setJob,jobID:e.jobID,jobData:e.jobData})))}a(35);function Y(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(I,{pageTitle:e.pageData.pageTitle,isDs:e.pageData.pageNavDs,isAl:e.pageData.pageNavAl,goTo:e.goTo}),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom2"},c.a.createElement("div",{className:"hcRowJustify"},c.a.createElement("div",{className:"hcBasicSideMargin"},e.pageData.introductionText),c.a.createElement("div",{className:"hcBasicSideMargin"},c.a.createElement("button",{type:"button",name:"button"},"New aligment")))),c.a.createElement("div",{className:"hcContentContainer hcMarginBottom5"},c.a.createElement("div",{className:"hcList hcMarginBottom1 hcBasicSideMargin"},c.a.createElement("div",{className:"hcListHeader"},c.a.createElement("div",{className:"hcLabel hcListItemLong"},"Name"),c.a.createElement("div",{className:"hcLabel hcTxtRight"},"Source"),c.a.createElement("div",{className:"hcLabel hcTxtRight"},"Targets"),c.a.createElement("div",{className:"hcLabel hcTxtRight"},"Links"),c.a.createElement("div",{className:"hcLabel hcTxtRight"},"Clusters"),c.a.createElement("div",{className:"hcLabel"},"Status"),c.a.createElement("select",{className:"",name:""},c.a.createElement("option",{value:""},"Order by name"),c.a.createElement("option",{value:""},"Order by date updated"),c.a.createElement("option",{value:""},"Order by date create")))),c.a.createElement("div",{className:"hcList hcListDisctinctLines hcBasicSideMargin hcMarginBottom2"},e.pageData.alignmentList.map((function(e){return c.a.createElement(S,{prName:e.prName,prSource:e.prSource,prTarget:e.prTarget,prLinks:e.prLinks,prCusters:e.prCusters,prStatus:e.prStatus})}))),c.a.createElement(x,null)))}function q(e){return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:"Lenticular Lenses",projectName:e.jobData.job_title}),c.a.createElement(Y,{pageData:{pageTitle:"",pageNavDs:!1,pageNavAl:!0,introductionText:"The data selection contains the selections of datasets you will work with. They can be entities with filters on them.",alignmentList:[{prName:"Getty & Frick vs NA:: approx Lev 0,7",prSource:"7634",prTarget:"232.113",prLinks:"345",prCusters:"33",prStatus:"Matched-Clustered"},{prName:"Getty & Frick vs NA:: soundex 0,85",prSource:"2344",prTarget:"32.233",prLinks:"156",prCusters:"11",prStatus:"Matched-Clustered"},{prName:"Getty vs Frick:: Lev 7",prSource:"7634",prTarget:"32.233",prLinks:"345",prCusters:"",prStatus:"Matched"},{prName:"Getty vs Frick:: soundex 0,85::",prSource:"7634",prTarget:"232.113",prLinks:"145",prCusters:"15",prStatus:"Matched-Clustered"},{prName:"Getty vs NA:: Lev 7",prSource:"2455",prTarget:"232.113",prLinks:"145",prCusters:"",prStatus:"Matched"},{prName:"Getty vs NA:: approx Lev 0,7",prSource:"3765",prTarget:"756",prLinks:"145",prCusters:"125",prStatus:"Matched-Clustered"}]},goTo:e.goTo}))}var W=a(38);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e){var t={pageTitle:"Data selection - list",pageNavDs:!0,pageNavAl:!1,introductionText:"The data selection contains the selections of datasets you will work with. They can be entities with filters on them.",dsList:function(e){var t=[];null!==e.entity_type_selections&&e.entity_type_selections.map((function(e,a){var n={dsName:e.label,dsDataset:e.description,dsProvider:"",dsIndex:a};t.push(n)}));return t}(e.jobData)};return c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),c.a.createElement(M,{parentCallBack:e.parentCallBack,pageData:t,jobData:e.jobData,setJob:e.setJob,setBufferIndex:e.setBufferIndex}))}function U(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:" hc2columns"},c.a.createElement("div",{className:"hcList hcMarginBottom4 hcBasicSideMargin hcMaxhalf"},e.pageData.datasetList.map((function(t){return c.a.createElement(D,{fields:t,setIndex:e.pageData.setIndex,parentCallback:e.parentCallback})}))),c.a.createElement("div",{className:"hcBasicSideMargin hcClrBg_Grey05 hcleftMark"},c.a.createElement("div",{className:"hcMarginTop2"},c.a.createElement("strong",null,e.pageData.detailInfoName)),c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey"},e.pageData.detailInfoProvider),c.a.createElement("div",{className:"hcSmallTxt hcClrTxt_Grey hcMarginBottom1"},e.pageData.detailInfodescription),c.a.createElement("div",{className:"hcLabel"},"Entity"),c.a.createElement("div",{className:"hcList "},e.pageData.detailInfoEntities.map((function(t){return c.a.createElement(_,{title:t.field,setIndex:e.pageData.setIndex,jobData:e.jobData,switchState:e.switchState,setJob:e.setJob,dsIndex:e.dsIndex})}))))))}function z(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(!0),l=Object(g.a)(s,2),o=l[0],u=l[1],d=T+"/datasets?endpoint=https://repository.goldenagents.org/v5/graphql",m={};null!==e.hsid&&(m={headers:{authorization:e.hsid}});var b={pageTitle:"Modal select dataset",pageNavDs:!0,pageNavAl:!1,datasetList:[],detailInfoEntities:[],detailInfoName:"",detailInfoProvider:"",detailInfodescription:"",setIndex:""},h=Object(n.useState)(b),f=Object(g.a)(h,2),N=f[0],y=f[1],_=Object(n.useState)(),D=Object(g.a)(_,2),C=D[0],k=D[1];function S(){return(S=Object(E.a)(v.a.mark((function e(){var t,a,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(d),e.next=3,fetch(d,m);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=Object.keys(a),c=n[0].toString(),b.setIndex=c,b.datasetList=x(a),b.detailInfoEntities=I(a,c),b.detailInfoName=a[c].title,y(b),k(a),i(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=[];return Object.keys(e).map((function(a){var n={field1:e[a].title,field2:e[a].description,key:a};t.push(n)})),t}function I(e,t){var a=[];Object.keys(e);return Object.keys(e[t].collections).map((function(e){var t={field:e};a.push(t)})),a}return Object(n.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(p,{toolName:j,projectName:e.jobData.job_title}),r?c.a.createElement("div",{className:"loadClass"},"Loading..."):c.a.createElement(B,{parentCallBack:e.parentCallBack,modalName:"Select dataset"},c.a.createElement(U,{pageData:N,parentCallback:function(e){var t=N;t.detailInfoEntities=I(C,e),t.detailInfoName=C[e].title,t.setIndex=e,y(t),u(!o)},jobData:e.jobData,switchState:e.parentCallBack,setJob:e.setJob,dsIndex:e.dsIndex})))}var $=Object(W.a)(V);$.start();var K,Q,Z=function(e){$.send(e)},ee=function(e){$.send(e)},te=function(e){$.send(e)},ae=function(e){$.send(e)},ne=new URLSearchParams(window.location.search),ce=ne.get("job_id"),re=ne.get("hsid");i.a.render(c.a.createElement("div",null,(K=$,Q={research:function(e){var t=e.state;return c.a.createElement(A,{parentCallBack:Z,setValue:ee,setJob:te,jobID:t.context.jobID,jobData:t.context.jobData,qsJobID:ce})},create:function(e){var t=e.state;return c.a.createElement(F,{parentCallBack:Z,setValue:ee,setJob:te,jobID:t.context.jobID,jobData:t.context.jobData})},fetch:function(e){var t=e.state;return c.a.createElement(P,{parentCallBack:Z,setValue:ee,setJob:te,jobID:t.context.jobID,jobData:t.context.jobData})},entity:function(e){var t=e.state;return c.a.createElement(X,{parentCallBack:Z,jobData:t.context.jobData,setJob:te,setBufferIndex:ae})},datasets:function(e){var t=e.state;return c.a.createElement(z,{parentCallBack:Z,jobData:t.context.jobData,setJob:te,dsIndex:t.context.bufferedIndex,hsid:re})},dataset_detail:function(e){var t=e.state;return c.a.createElement(J,{parentCallBack:Z,jobData:t.context.jobData,setJob:te,dsIndex:t.context.bufferedIndex})},alignments:function(e){var t=e.state;return c.a.createElement(q,{goTo:Z,jobData:t.context.jobData})},"":function(e){var t=e.state;return c.a.createElement("div",null,"The GUI for ",t.value," is not yet defined")}},c.a.createElement((function(){var e=Object(n.useState)(K.state),t=Object(g.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){var e=function(e){return r(e)};return K.onTransition(e),function(){K.off(e)}}),[K,Q]);var i=function e(t,a){if("string"===typeof t){var n=a[t];return void 0===n?void 0===a[t]?a[""]:a[t]:R(n)?n:(console.error("Non-terminal state config for an atomic state!"),function e(t){for(var a in t){var n=t[a];return R(n)?n:e(n)}}(n))}var c,r={},i=0;for(var s in t){var l=void 0===a[s]?a[""]:a[s];if(R(l))i++,r[s]=l,c=l;else if("object"===typeof l){var o=e(t[s],l);void 0!==o&&(i++,r[s]=o,c=o)}}if(1===i)return c;var u=a[":merge"];return function(e){return u({state:e.state,input:r})}}(a.value,Q);if(void 0!==i){var s={state:a};return c.a.createElement(i,s)}return c.a.createElement("div",null,"No GUI defined for ",JSON.stringify(a.value))})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.4c9f6282.chunk.js.map